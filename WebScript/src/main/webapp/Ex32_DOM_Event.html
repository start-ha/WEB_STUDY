<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style>
        ul{ 
            padding: 0; 
            list-style-position: inside;
        }
        li{
            border-bottom: 1px solid #999;
            padding: 5px 0;
        }
        #add-btn{
            padding: 5px 10px;
            border: 0;
            background: #f80; 
            color: white;
            border-radius: 5px;
        }
        
        .active{ background:gold; } /* step3: 목록 클릭 스타일 */
    </style>
</head>
<body>
	<h1 id='title'>할일 목록</h1>
    <button id="add-btn">목록 추가</button>
    <ul id='list'>
        <li>제목 1</li>
        <li>제목 2</li>
        <li>제목 3</li>
        <li>제목 4</li>
    </ul>
</body>
	<script type="text/javascript">
	
	//body 안에 있는 요소 다 가져옴
		let title = document.getElementById("title"); //<h1>태그 다 들고옴
		let list = document.getElementById("list"); 
		let li = document.getElementsByTagName("li"); //Array 
		let addbtn = document.getElementById("add-btn"); 
	
		function activeItem(event){//event 객체를 받아서
			console.log(event.target); //이벤트가 발생한 그 요소(가장 하위요소)
			console.log(event.currentTarget); //현재 이벤트를 가지고 있는 요소값
			
			if(event.target.nodeName = "LI"){
				title.innerHTML = event.target.innerText; //title 클릭하면 li안의 텍스트를 끌고 오겠다
			}
			
			for(let i = 0; i < event.target.parentNode.children.length; i++){
				//선택된 자식의 개수만큼 동작 //속성 없앰
				event.target.parentNode.children[i].removeAttribute('class');
			}
			
			event.target.setAttribute('class', 'active'); //클릭한 요소에 이벤트를 걸겠다
		}
		//ul 에 이벤트
		list.addEventListener("click", activeItem); //li나오고 ul list나옴
		
		addbtn.addEventListener("click", function(){
			let txt = prompt("제목입력");
			if(txt != null){ //+= 기존 것에 누적
				list.innerHTML += '<li>' + txt + '</li>';
			}
			
		});
		
	</script>
</html>